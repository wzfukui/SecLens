<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% set page_title = title or 'SecLens' %}
    <title>{{ page_title if 'SecLens' in page_title else page_title ~ ' · SecLens' }}</title>
    <link rel="stylesheet" href="{{ static_asset_url('bundle.css') }}">
    <style>
        header .hero {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        header .hero .hero-logo-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        header .hero .hero-logo {
            display: block;
            width: 72px;
            height: auto;
        }

        header .hero .hero-content {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }

        header .hero .hero-content h1 {
            margin: 0;
        }

        header .hero .hero-content p {
            margin: 0;
            color: rgba(255, 255, 255, 0.72);
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                align-items: stretch;
                gap: 1.25rem;
            }

            header .hero {
                width: 100%;
                flex-direction: column;
                align-items: flex-start;
                gap: 0.75rem;
            }

            header .hero .hero-logo {
                width: 60px;
            }

            header .hero .hero-content h1,
            header .hero .hero-content p {
                text-align: left;
            }
        }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body data-page="{{ page_id or '' }}">
<header>
    <div class="hero">
        <a href="/" class="hero-logo-link">
            <img
                src="/static/images/seclens-logo.png"
                alt="SecLens Logo"
                class="hero-logo"
                width="72"
                height="72"
                decoding="async"
            >
        </a>
        <div class="hero-content">
            <h1><a href="/">{{ header or 'SecLens 情报雷达' }}</a></h1>
            <p>聚合官方安全公告、厂商发布与热点资讯，支持分组浏览、过滤和 RSS 订阅，让你的安全情报体系更加高效。</p>
        </div>
    </div>
    <div class="global-menu">
        <button class="menu-toggle" type="button" aria-label="更多菜单" aria-expanded="false" aria-controls="global-menu-list">&hellip;</button>
        <nav class="global-menu-list" id="global-menu-list" aria-label="全局导航" data-visible="false">
            <div class="menu-group" data-group="public">
                <a href="/">首页</a>
                <a href="/help">帮助</a>
                <a href="/about">关于</a>
                <a href="/docs">文档</a>
                <a href="/dashboard/plugins">插件监控</a>
            </div>
            <div class="menu-divider" role="separator" aria-hidden="true"></div>
            <div class="menu-group" data-group="user">
                <a href="/login" data-auth="guest">登录或注册</a>
                <a href="/dashboard" data-auth="auth">用户中心</a>
                <a href="#" id="logout-link" data-auth="auth">退出</a>
            </div>
            <div class="menu-divider" data-admin="true" role="separator" aria-hidden="true" style="display:none"></div>
            <div class="menu-group" data-group="admin" data-admin="true" style="display:none">
                <a href="/admin">管理后台</a>
            </div>
        </nav>
    </div>
</header>
<main>
    {% block content %}{% endblock %}
</main>
<footer>
    SecLens MVP · <a href="/v1/bulletins/rss">RSS</a> · <a href="/docs">API Docs</a>
</footer>
<script type="module" src="{{ static_asset_url('bundle.js') }}"></script>
{% block extra_js %}{% endblock %}
</body>
</html>
